  // 4. 相似度阈值（根据mode调整）
  const similarityThresholds = {
    "user_cued": 0.60,           // 用户主动提，要求最低
    "supportive_context": 0.75,  // 支持性上下文，要求较高（要确保相关）
    "casual_continuity": 0.72    // 日常延续，适中
  };
  
  const threshold = similarityThresholds[mode] || 0.80;
  
  if (match.similarity < threshold) {
    return false;
  }